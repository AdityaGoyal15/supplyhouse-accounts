create table accounts
(
    created_on          date         not null,
    share_all_history   boolean      not null,
    business_account_id bigint,
    id                  bigint generated by default as identity,
    account_type        varchar(255) not null check (account_type in ('REGULAR', 'BUSINESS')),
    email               varchar(255) not null unique,
    holder_name         varchar(255),
    primary key (id)
);
create table invitations
(
    responded_on date,
    sent_on      date         not null,
    id           bigint generated by default as identity,
    receiver_id  bigint       not null,
    sender_id    bigint       not null,
    status       varchar(255) not null check (status in ('PENDING', 'ACCEPTED', 'DECLINED')),
    primary key (id)
);
create table orders
(
    placed_on  date   not null,
    account_id bigint not null,
    id         bigint generated by default as identity,
    primary key (id)
);
alter table if exists invitations
    add constraint fk_receiver_id foreign key (receiver_id) references accounts;
alter table if exists invitations
    add constraint fk_sender_id foreign key (sender_id) references accounts;
alter table if exists orders
    add constraint fk_account_id foreign key (account_id) references accounts;